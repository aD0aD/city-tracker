# 城市足迹记录器 - 完整启动指南

## 前置条件检查

1. **确认 Node.js 已安装**
   ```bash
   node --version
   npm --version
   ```
   如果显示版本号，说明已安装。如果没有，请先安装 Node.js。

2. **安装项目依赖**
   ```bash
   npm install
   ```
   安装完成后会生成 `node_modules/` 目录（该目录不应该提交到 GitHub）。

## 完整启动步骤

### 步骤 1：打开终端

在 Mac 上按 `Command + Space`，输入"终端"或"Terminal"，打开终端应用。

### 步骤 2：进入项目目录

```bash
cd <你的项目目录>
```

### 步骤 3：安装依赖（如果还没安装）

```bash
npm install
```

等待安装完成（可能需要几分钟）。

### 步骤 4：启动开发服务器

```bash
npm run dev
```

你会看到类似这样的输出：
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

**重要**：记住显示的端口号（通常是 5173）。

### 步骤 5：在浏览器中打开

1. 打开浏览器（Chrome、Safari、Firefox 等）
2. 在地址栏输入：`http://localhost:5173`
3. 按回车键

### 步骤 6：查看地图

页面加载后，你应该看到：
- ✅ 顶部有"我的城市足迹"标题
- ✅ 有"添加城市"按钮
- ✅ 中间有颜色图例
- ✅ 左侧显示中国地图
- ✅ 右侧显示访问记录列表（初始为空）

## 如果地图没有显示

### 检查 1：查看浏览器控制台

1. 按 `F12` 或 `Command + Option + I`（Mac）打开开发者工具
2. 点击"Console"（控制台）标签
3. 查看是否有红色错误信息

### 检查 2：确认开发服务器正在运行

在终端中应该能看到：
- `ready in xxx ms` 消息
- `Local: http://localhost:5173/` 地址

如果没有，重新运行 `npm run dev`

### 检查 3：检查网络连接

地图 geoJSON 数据可能需要从网络加载（ECharts 地图常见做法）。确保：
- 网络连接正常
- 可以访问 `https://geo.datav.aliyun.com`

如果你希望**离线可用**，建议把 geoJSON 文件下载到本地，并在项目中以静态资源方式引入（这样就不依赖外网）。

### 检查 4：清除浏览器缓存

1. 按 `Command + Shift + R`（Mac）强制刷新
2. 或清除浏览器缓存后重新打开

## 测试添加城市

1. 点击右上角"**+ 添加城市**"按钮
2. 填写表单：
   - 城市名称：`北京市`（注意：要使用完整名称，如"北京市"、"上海市"、"深圳市"）
   - 访问目的：选择"出差"、"旅行"或"徒步"
   - 访问日期：选择日期
3. 点击"**添加**"按钮
4. 地图上应该能看到对应城市显示颜色

## 常见问题

### Q: 页面显示空白
**A:** 检查浏览器控制台是否有错误，确认开发服务器正在运行。

### Q: 地图加载很慢
**A:** 首次加载需要从网络获取地图数据，请耐心等待几秒钟。

### Q: 添加城市后地图没有变化
**A:** 检查城市名称是否与地图上的名称完全匹配（如"北京市"而不是"北京"）。

### Q: 端口被占用
**A:** 如果 5173 端口被占用，Vite 会自动使用下一个可用端口，查看终端输出的实际地址。

## 停止开发服务器

在终端中按 `Ctrl + C` 停止服务器。

## 构建生产版本

如果需要构建生产版本：

```bash
npm run build
```

构建完成后，文件会在 `dist` 目录中。

